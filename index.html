function calculatePeriods(birthMonth, birthDay) {
    const currentDate = new Date();
    const currentYear = currentDate.getFullYear();
    const birthday = new Date(currentYear, birthMonth - 1, birthDay);
    
    if (birthday > currentDate) {
        birthday.setFullYear(currentYear - 1);
    }
    
    const resultsDiv = document.getElementById('results');
    resultsDiv.innerHTML = '';
    
    // Determinar el período actual
    let currentPeriodIndex = -1;
    
    planets.forEach((planet, index) => {
        const yearBirthday = new Date(currentYear, birthMonth - 1, birthDay);
        let startDate, endDate;
        
        if (index === 0) {
            // Período 1 (Sol): desde el cumpleaños hasta 52 días después
            startDate = new Date(yearBirthday);
            endDate = new Date(yearBirthday);
            endDate.setDate(yearBirthday.getDate() + 52);
        } else if (index === 6) {
            // Período 7 (Saturno): desde 53 días antes del cumpleaños hasta un día antes
            startDate = new Date(yearBirthday);
            startDate.setDate(yearBirthday.getDate() - 53);
            endDate = new Date(yearBirthday);
            endDate.setDate(yearBirthday.getDate() - 1);
        } else {
            // Períodos intermedios
            startDate = new Date(yearBirthday);
            startDate.setDate(yearBirthday.getDate() + (index * 52));
            
            endDate = new Date(yearBirthday);
            endDate.setDate(yearBirthday.getDate() + ((index + 1) * 52 - 1));
        }
        
        const isCurrentPeriod = 
            currentDate >= startDate && 
            currentDate <= endDate;
        
        if (isCurrentPeriod) {
            currentPeriodIndex = index;
        }
    });
    
    // Mostrar períodos desde el actual hacia adelante hasta el anterior
    if (currentPeriodIndex !== -1) {
        for (let i = currentPeriodIndex; i < planets.length; i++) {
            const planet = planets[i];
            const yearBirthday = new Date(currentYear, birthMonth - 1, birthDay);
            
            let startDate, endDate;
            
            if (i === 0) {
                // Período 1 (Sol): desde el cumpleaños hasta 52 días después
                startDate = new Date(yearBirthday);
                endDate = new Date(yearBirthday);
                endDate.setDate(yearBirthday.getDate() + 52);
            } else if (i === 6) {
                // Período 7 (Saturno): desde 53 días antes del cumpleaños hasta un día antes
                startDate = new Date(yearBirthday);
                startDate.setDate(yearBirthday.getDate() - 53);
                endDate = new Date(yearBirthday);
                endDate.setDate(yearBirthday.getDate() - 1);
            } else {
                // Períodos intermedios
                startDate = new Date(yearBirthday);
                startDate.setDate(yearBirthday.getDate() + (i * 52));
                
                endDate = new Date(yearBirthday);
                endDate.setDate(yearBirthday.getDate() + ((i + 1) * 52 - 1));
            }
            
            const isCurrentPeriod = 
                currentDate >= startDate && 
                currentDate <= endDate;
            
            const card = document.createElement('div');
            card.className = `planet-card bg-white rounded-lg shadow p-6 ${isCurrentPeriod ? 'border-2 border-blue-500' : ''}`;
            
            card.innerHTML = `
                <div class="flex items-center gap-2 mb-4">
                    <span class="text-3xl">${planetsInfo[planet].symbol}</span>
                    <h3 class="text-xl font-bold">
                        Período ${i + 1}: ${planet} (${currentYear})
                        ${isCurrentPeriod ? '<span class="ml-2 text-sm text-blue-600">(Período Actual)</span>' : ''}
                    </h3>
                </div>
                <p class="text-sm mb-4">
                    ${startDate.toLocaleDateString('es-ES')} - ${endDate.toLocaleDateString('es-ES')}
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <h4 class="font-medium text-green-600 mb-2">Aspectos Positivos:</h4>
                        <p class="text-sm">${planetsInfo[planet].positive}</p>
                    </div>
                    <div>
                        <h4 class="font-medium text-red-600 mb-2">Aspectos a Considerar:</h4>
                        <p class="text-sm">${planetsInfo[planet].negative}</p>
                    </div>
                </div>
            `;
            
            resultsDiv.appendChild(card);
            
            // Detener si hemos llegado al período anterior al actual
            if (i === currentPeriodIndex + 5) break;
        }
    }
}
